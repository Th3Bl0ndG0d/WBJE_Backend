{"openapi":"3.1.0","info":{"title":"WBJE API","description":"REST API for the Web Based Job Editor.","contact":{"name":"AV Flexologic"},"license":{"name":"Proprietary"},"version":"v1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"keycloak":[]}],"tags":[{"name":"Cylinders","description":"Endpoints for managing cylinders within a job. Accessible roles: service (ROLE_ADMIN) and operator (ROLE_USER)."},{"name":"Tape Specifications","description":"Endpoints for managing tape specifications. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER)."},{"name":"Reports","description":"Endpoints for managing reports (plates) in the Web Based Job Editor. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER)."},{"name":"Job Templates","description":"Endpoints for uploading, retrieving and deleting job templates. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER)."},{"name":"Jobs","description":"Endpoints for managing jobs in the Web Based Job Editor. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER)."},{"name":"ReportSpecs","description":"Endpoints for managing report specifications. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER)."}],"paths":{"/tape-specs/{id}":{"get":{"tags":["Tape Specifications"],"summary":"Get a tape specification by id","description":"Returns a single tape specification. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getTapeSpec","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"TapeSpec retrieved.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TapeSpecResponseDTO"},"examples":{"TapeSpecExample":{"description":"TapeSpecExample","value":{"id":1,"tapeName":"Tesa","thickness":0.45,"description":"Tesa premium flexo mounting tape."}}}}}},"404":{"description":"TapeSpec not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"}}}}},"security":[{"keycloak":["service","operator"]}]},"put":{"tags":["Tape Specifications"],"summary":"Update a tape specification","description":"Updates an existing tape specification. Accessible role: service (ROLE_ADMIN).","operationId":"updateTapeSpec","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Updated TapeSpec payload.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TapeSpecRequestDTO"},"examples":{"TapeSpecUpdateRequestExample":{"description":"TapeSpecUpdateRequestExample","value":{"tapeName":"Tesa","thickness":0.48,"description":"Updated Tesa performance flexo tape."}}}}},"required":true},"responses":{"200":{"description":"TapeSpec updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TapeSpecResponseDTO"},"examples":{"TapeSpecUpdatedExample":{"description":"TapeSpecUpdatedExample","value":{"id":1,"tapeName":"Tesa","thickness":0.48,"description":"Updated Tesa performance flexo tape."}}}}}},"400":{"description":"Validation error.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TapeSpecResponseDTO"}}}},"404":{"description":"TapeSpec not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TapeSpecResponseDTO"}}}}},"security":[{"keycloak":["service"]}]},"delete":{"tags":["Tape Specifications"],"summary":"Delete a tape specification","description":"Deletes the TapeSpec with the given id. Accessible role: service (ROLE_ADMIN).","operationId":"deleteTapeSpec","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"TapeSpec deleted."},"404":{"description":"TapeSpec not found."}},"security":[{"keycloak":["service"]}]}},"/reports/{id}":{"get":{"tags":["Reports"],"summary":"Get a report by id","description":"Returns a single report (plate) for the given identifier. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getReportById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Report successfully retrieved.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportResponseDTO"},"examples":{"ReportExample":{"description":"ReportExample","value":{"id":100,"reportNr":1,"reportWidth":400,"xOffset":10,"yOffset":20,"cylinderId":12,"reportSpecId":5}}}}}},"404":{"description":"Report with the given id was not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"ReportNotFoundExample":{"description":"ReportNotFoundExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Report not found for id: 100","path":"/reports/100","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]},"put":{"tags":["Reports"],"summary":"Update a report","description":"Updates an existing report (plate) for the given identifier. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"updateReport","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportRequestDTO"}}},"required":true},"responses":{"200":{"description":"Report successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportResponseDTO"},"examples":{"ReportUpdatedExample":{"description":"ReportUpdatedExample","value":{"id":100,"reportNr":1,"reportWidth":420,"xOffset":15,"yOffset":25,"cylinderId":12,"reportSpecId":5}}}}}},"400":{"description":"Validation failed for the request body.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"ReportUpdateValidationErrorExample":{"description":"ReportUpdateValidationErrorExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":400,"error":"Bad Request","message":"Validation failed for one or more fields.","path":"/reports/100","fieldErrors":{"reportNr":"reportNr is required."}}}}}}},"404":{"description":"Report or ReportSpec was not found for the given id.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"ReportUpdateNotFoundExample":{"description":"ReportUpdateNotFoundExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Report not found for id: 999","path":"/reports/999","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]},"delete":{"tags":["Reports"],"summary":"Delete a report","description":"Deletes a report (plate) for the given identifier. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"deleteReport","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Report successfully deleted.","content":{"application/json":{"examples":{"ReportDeleteExample":{"description":"ReportDeleteExample","value":"// No response body is returned for a successful delete (HTTP 200).\n"}}}}},"404":{"description":"Report with the given id was not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"ReportDeleteNotFoundExample":{"description":"ReportDeleteNotFoundExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Report not found for id: 999","path":"/reports/999","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]}},"/report-specs/{id}":{"get":{"tags":["ReportSpecs"],"summary":"Get a report specification by id","description":"Returns a single report specification. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getReportSpecById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"ReportSpec successfully retrieved.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportSpecResponseDTO"}}}},"404":{"description":"ReportSpec with the given id was not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"}}}}},"security":[{"keycloak":["service","operator"]}]},"put":{"tags":["ReportSpecs"],"summary":"Update a report specification","description":"Updates an existing report specification. Accessible role: service (ROLE_ADMIN).","operationId":"updateReportSpec","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Payload to update an existing report specification.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportSpecRequestDTO"}}},"required":true},"responses":{"200":{"description":"ReportSpec successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportSpecResponseDTO"}}}},"400":{"description":"Validation failed.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReportSpecResponseDTO"}}}},"404":{"description":"ReportSpec not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReportSpecResponseDTO"}}}}},"security":[{"keycloak":["service"]}]},"delete":{"tags":["ReportSpecs"],"summary":"Delete a report specification","description":"Deletes a report specification. Accessible role: service (ROLE_ADMIN).","operationId":"deleteReportSpec","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"ReportSpec successfully deleted."},"404":{"description":"ReportSpec not found."}},"security":[{"keycloak":["service"]}]}},"/jobs/{jobId}/cylinders/{cylinderId}":{"get":{"tags":["Cylinders"],"summary":"Get a single cylinder","description":"Returns a specific cylinder by id, scoped to the given job. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getCylinderById","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"cylinderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Cylinder retrieved successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CylinderResponseDTO"},"examples":{"SingleCylinderExample":{"description":"SingleCylinderExample","value":{"id":10,"cylinderNr":1,"color":"Cyan","cylinderInfo":"TechSleeve","jobId":100,"tapeSpecId":10}}}}}},"404":{"description":"Cylinder or job not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"CylinderNotFoundExample":{"description":"CylinderNotFoundExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Cylinder not found for id: 10","path":"/jobs/100/cylinders/10","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]},"put":{"tags":["Cylinders"],"summary":"Update a cylinder","description":"Updates the fields of an existing cylinder. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"updateCylinder","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"cylinderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Cylinder request payload for updating an existing cylinder.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CylinderRequestDTO"},"examples":{"CylinderUpdateRequestExample":{"description":"CylinderUpdateRequestExample","value":{"cylinderNr":1,"color":"Cyan","cylinderInfo":"TechSleeve","tapeSpecId":10}}}}},"required":true},"responses":{"200":{"description":"Cylinder updated successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CylinderResponseDTO"},"examples":{"CylinderUpdatedExample":{"description":"CylinderUpdatedExample","value":{"id":10,"cylinderNr":1,"color":"Cyan","cylinderInfo":"TechSleeve","jobId":100,"tapeSpecId":10}}}}}},"400":{"description":"Validation failed for the request body.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"CylinderUpdateValidationErrorExample":{"description":"CylinderUpdateValidationErrorExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":400,"error":"Bad Request","message":"Validation failed for one or more fields.","path":"/jobs/100/cylinders/10","fieldErrors":{"cylinderNr":"cylinderNr is required.","tapeSpecId":"tapeSpecId is required."}}}}}}},"404":{"description":"Cylinder or job not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"CylinderUpdateNotFoundExample":{"description":"CylinderUpdateNotFoundExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Cylinder not found for id: 10","path":"/jobs/100/cylinders/10","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]},"delete":{"tags":["Cylinders"],"summary":"Delete a cylinder","description":"Deletes a cylinder belonging to the specified job. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"deleteCylinder","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"cylinderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Cylinder successfully deleted.","content":{"application/json":{"examples":{"CylinderDeleteExample":{"description":"CylinderDeleteExample","value":"// No content is returned for a successful delete (HTTP 204).\n"}}}}},"404":{"description":"Cylinder or job not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"CylinderDeleteNotFoundExample":{"description":"CylinderDeleteNotFoundExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Cylinder not found for id: 10","path":"/jobs/100/cylinders/10","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]}},"/jobs/{id}":{"get":{"tags":["Jobs"],"summary":"Get a job by id","description":"Returns a job for the given identifier. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getJobById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Job successfully retrieved.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponseDTO"}}}},"404":{"description":"Job not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"}}}}},"security":[{"keycloak":["service","operator"]}]},"put":{"tags":["Jobs"],"summary":"Update a job","description":"Updates an existing job. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"updateJob","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobRequestDTO"}}},"required":true},"responses":{"200":{"description":"Job updated.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponseDTO"}}}},"400":{"description":"Validation error.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponseDTO"}}}},"404":{"description":"Job not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponseDTO"}}}}},"security":[{"keycloak":["service","operator"]}]},"delete":{"tags":["Jobs"],"summary":"Delete a job","description":"Deletes a job. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"deleteJob","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Job deleted."},"404":{"description":"Job not found."}},"security":[{"keycloak":["service","operator"]}]}},"/tape-specs":{"get":{"tags":["Tape Specifications"],"summary":"Get all tape specifications","description":"Returns all tape specifications. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getAllTapeSpecs","responses":{"200":{"description":"List of TapeSpecs retrieved.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TapeSpecResponseDTO"}},"examples":{"TapeSpecListExample":{"description":"TapeSpecListExample","value":[{"id":1,"tapeName":"Tesa","thickness":0.45,"description":"Tesa premium flexo mounting tape."},{"id":2,"tapeName":"3M","thickness":0.5,"description":"3M high-performance flexo tape."}]}}}}}},"security":[{"keycloak":["service","operator"]}]},"post":{"tags":["Tape Specifications"],"summary":"Create a new tape specification","description":"Creates a new tape specification. Accessible role: service (ROLE_ADMIN).","operationId":"createTapeSpec","requestBody":{"description":"Payload for creating a new TapeSpec.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TapeSpecRequestDTO"},"examples":{"TapeSpecRequestExample":{"description":"TapeSpecRequestExample","value":{"tapeName":"3M","thickness":0.5,"description":"3M high-performance flexo tape."}}}}},"required":true},"responses":{"200":{"description":"TapeSpec successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TapeSpecResponseDTO"},"examples":{"TapeSpecCreatedExample":{"description":"TapeSpecCreatedExample","value":{"id":1,"tapeName":"Tesa","thickness":0.45,"description":"Tesa premium flexo mounting tape."}}}}}},"400":{"description":"Validation failed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"}}}}},"security":[{"keycloak":["service"]}]}},"/reports":{"get":{"tags":["Reports"],"summary":"List reports by cylinder id","description":"Returns all reports (plates) that belong to the given cylinder. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getReportsByCylinderId","parameters":[{"name":"cylinderId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Reports successfully retrieved.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReportResponseDTO"}},"examples":{"ReportListExample":{"description":"ReportListExample","value":[{"id":100,"reportNr":1,"reportWidth":400,"xOffset":10,"yOffset":20,"cylinderId":12,"reportSpecId":5},{"id":101,"reportNr":2,"reportWidth":380,"xOffset":420,"yOffset":20,"cylinderId":12,"reportSpecId":6}]}}}}}},"security":[{"keycloak":["service","operator"]}]},"post":{"tags":["Reports"],"summary":"Create a new report","description":"Creates a new report (plate) within a cylinder based on the supplied request payload. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"createReport","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportRequestDTO"}}},"required":true},"responses":{"200":{"description":"Report successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportResponseDTO"},"examples":{"ReportCreatedExample":{"description":"ReportCreatedExample","value":{"id":100,"reportNr":1,"reportWidth":400,"xOffset":10,"yOffset":20,"cylinderId":12,"reportSpecId":5}}}}}},"400":{"description":"Validation failed for the request body.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"ReportValidationErrorExample":{"description":"ReportValidationErrorExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":400,"error":"Bad Request","message":"Validation failed for one or more fields.","path":"/reports","fieldErrors":{"reportNr":"reportNr is required.","cylinderId":"cylinderId is required.","reportSpecId":"reportSpecId is required."}}}}}}},"404":{"description":"Cylinder or ReportSpec was not found for the given id.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"ReportCreateNotFoundExample":{"description":"ReportCreateNotFoundExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Cylinder not found for id: 12","path":"/reports","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]}},"/report-specs":{"get":{"tags":["ReportSpecs"],"summary":"List all report specifications","description":"Retrieves all report specifications. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getAllReportSpecs","responses":{"200":{"description":"ReportSpecs successfully retrieved.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportSpecResponseDTO"}}}}},"security":[{"keycloak":["service","operator"]}]},"post":{"tags":["ReportSpecs"],"summary":"Create a new report specification","description":"Creates a new report specification. Accessible role: service (ROLE_ADMIN).","operationId":"createReportSpec","requestBody":{"description":"ReportSpec payload used to create a new specification.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportSpecRequestDTO"}}},"required":true},"responses":{"200":{"description":"ReportSpec successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportSpecResponseDTO"},"examples":{"Created ReportSpec":{"description":"Created ReportSpec","value":{"id":5,"reportName":"Plate A","reportType":"Photopolymer","thickness":67,"info":"Default plate spec"}}}}}},"400":{"description":"Validation failed for the request body.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"}}}}},"security":[{"keycloak":["service"]}]}},"/jobs":{"get":{"tags":["Jobs"],"summary":"Get all jobs","description":"Returns all jobs. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getAllJobs","responses":{"200":{"description":"List successfully retrieved.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobResponseDTO"}}}}},"security":[{"keycloak":["service","operator"]}]},"post":{"tags":["Jobs"],"summary":"Create a new job","description":"Creates a new job. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"createJob","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobRequestDTO"}}},"required":true},"responses":{"200":{"description":"Job successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobResponseDTO"},"examples":{"JobCreatedExample":{"description":"JobCreatedExample","value":{"id":42,"jobNr":"JOB-2025-001","jobName":"Sleeve alignment test job","jobDate":"2025-01-10","repeatLength":635.0}}}}}},"400":{"description":"Validation failed.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"}}}}},"security":[{"keycloak":["service","operator"]}]}},"/jobs/{jobId}/cylinders":{"get":{"tags":["Cylinders"],"summary":"Get all cylinders for a job","description":"Returns all cylinders associated with the given job. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getCylindersByJob","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Cylinders retrieved successfully.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CylinderResponseDTO"}},"examples":{"CylinderListExample":{"description":"CylinderListExample","value":[{"id":10,"cylinderNr":1,"color":"Cyan","cylinderInfo":"TechSleeve","jobId":100,"tapeSpecId":10},{"id":11,"cylinderNr":2,"color":"Cyan","cylinderInfo":"TechSleeve","jobId":100,"tapeSpecId":10}]}}}}},"404":{"description":"Job not found for the given id.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"CylinderJobNotFoundListExample":{"description":"CylinderJobNotFoundListExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Job not found for id: 100","path":"/jobs/100/cylinders","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]},"post":{"tags":["Cylinders"],"summary":"Create a new cylinder","description":"Creates a new cylinder in the specified job. Cylinder numbering must remain unique per job. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"createCylinder","parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Cylinder request payload for creating a new cylinder within a job.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CylinderRequestDTO"},"examples":{"CylinderRequestExample":{"description":"CylinderRequestExample","value":{"cylinderNr":1,"color":"Cyan","cylinderInfo":"TechSleeve","tapeSpecId":10}}}}},"required":true},"responses":{"201":{"description":"Cylinder successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CylinderResponseDTO"},"examples":{"CylinderCreatedExample":{"description":"CylinderCreatedExample","value":{"id":10,"cylinderNr":1,"color":"Cyan","cylinderInfo":"TechSleeve","jobId":100,"tapeSpecId":10}}}}}},"400":{"description":"Validation failed for the request body.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"CylinderValidationErrorExample":{"description":"CylinderValidationErrorExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":400,"error":"Bad Request","message":"Validation failed for one or more fields.","path":"/jobs/100/cylinders","fieldErrors":{"cylinderNr":"cylinderNr is required.","tapeSpecId":"tapeSpecId is required."}}}}}}},"404":{"description":"Job not found for the given id.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"CylinderJobNotFoundExample":{"description":"CylinderJobNotFoundExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Job not found for id: 100","path":"/jobs/100/cylinders","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]}},"/job-templates":{"get":{"tags":["Job Templates"],"summary":"List job templates","description":"Returns metadata for all stored job templates. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getAllTemplates","responses":{"200":{"description":"Template metadata successfully retrieved.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobTemplateResponseDTO"},"examples":{"TemplateListExample":{"description":"TemplateListExample","value":[{"id":1,"originalFileName":"wbje-template.json","contentType":"application/json","fileSize":4096,"uploadedAt":"2025-12-22T10:00:00","templateName":"Default Template"}]}}}}}},"security":[{"keycloak":["service","operator"]}]},"post":{"tags":["Job Templates"],"summary":"Upload a job template","description":"Receives a template file + name using multipart/form-data. Accessible roles: service (ROLE_ADMIN).","operationId":"uploadTemplate","requestBody":{"description":"Multipart request containing the template JSON file and its logical name.","content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"JSON file containing the full job template."},"name":{"type":"string","description":"Human-readable name for this template."}}},"examples":{"TemplateUploadExample":{"description":"TemplateUploadExample","value":{"file":"(binary JSON)","name":"Customer X Default"}}}}},"required":true},"responses":{"201":{"description":"Template successfully stored.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobTemplateResponseDTO"},"examples":{"TemplateCreatedExample":{"description":"TemplateCreatedExample","value":{"id":1,"originalFileName":"wbje-template.json","contentType":"application/json","fileSize":4096,"uploadedAt":"2025-12-22T10:00:00","templateName":"Customer A Default"}}}}}},"400":{"description":"Invalid multipart request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"UploadErrorExample":{"description":"UploadErrorExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":400,"error":"Bad Request","message":"Invalid file upload request.","path":"/job-templates","fieldErrors":null}}}}}}},"security":[{"keycloak":["service"]}]}},"/roles":{"get":{"tags":["security-controller"],"operationId":"roles","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/public":{"get":{"tags":["security-controller"],"operationId":"publiek","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/private":{"get":{"tags":["security-controller"],"operationId":"geheim","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/job-templates/{id}":{"get":{"tags":["Job Templates"],"summary":"Get a template by id","description":"Returns metadata for a specific job template. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"getTemplate","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Template metadata retrieved.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JobTemplateResponseDTO"},"examples":{"TemplateMetadataExample":{"description":"TemplateMetadataExample","value":{"id":1,"originalFileName":"wbje-template.json","contentType":"application/json","fileSize":4096,"uploadedAt":"2025-12-22T10:00:00","templateName":"Default Template"}}}}}},"404":{"description":"Template not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"},"examples":{"TemplateNotFoundExample":{"description":"TemplateNotFoundExample","value":{"timestamp":"2025-01-10T14:32:11.123","status":404,"error":"Not Found","message":"Template not found for id: 99","path":"/job-templates/99","fieldErrors":null}}}}}}},"security":[{"keycloak":["service","operator"]}]},"delete":{"tags":["Job Templates"],"summary":"Delete a template","description":"Deletes both stored metadata and the template file. Accessible roles: service (ROLE_ADMIN).","operationId":"deleteTemplate","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Template deleted."},"404":{"description":"Template not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"}}}}},"security":[{"keycloak":["service"]}]}},"/job-templates/{id}/download":{"get":{"tags":["Job Templates"],"summary":"Download template file","description":"Downloads the JSON file belonging to the template. Accessible roles: service (ROLE_ADMIN), operator (ROLE_USER).","operationId":"downloadTemplate","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Template file returned.","content":{"application/json":{"examples":{"TemplateFileExample":{"description":"TemplateFileExample","value":"{\n  \"jobNumber\": \"JB-1001\",\n  \"jobName\": \"Demo Job from Template\",\n  \"cylinders\": [ ... ]\n}\n"}}}}},"404":{"description":"Template file not found.","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorDTO"}}}}},"security":[{"keycloak":["service","operator"]}]}},"/hello":{"get":{"tags":["security-controller"],"operationId":"hallo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/debug-auth":{"get":{"tags":["security-controller"],"operationId":"debugAuth","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/admin":{"get":{"tags":["security-controller"],"operationId":"admin","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"TapeSpecRequestDTO":{"type":"object","properties":{"tapeName":{"type":"string"},"tapeType":{"type":"string"},"thickness":{"type":"integer","format":"int32"},"info":{"type":"string"}}},"TapeSpecResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"tapeName":{"type":"string"},"tapeType":{"type":"string"},"thickness":{"type":"integer","format":"int32"},"info":{"type":"string"}}},"ReportRequestDTO":{"type":"object","properties":{"reportNr":{"type":"integer","format":"int32"},"reportWidth":{"type":"integer","format":"int32"},"xOffset":{"type":"integer","format":"int32"},"yOffset":{"type":"integer","format":"int32"},"cylinderId":{"type":"integer","format":"int64"},"reportSpecId":{"type":"integer","format":"int64"}}},"ReportResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"reportNr":{"type":"integer","format":"int32"},"reportWidth":{"type":"integer","format":"int32"},"xOffset":{"type":"integer","format":"int32"},"yOffset":{"type":"integer","format":"int32"},"cylinderId":{"type":"integer","format":"int64"},"reportSpecId":{"type":"integer","format":"int64"}}},"ApiErrorDTO":{"type":"object","description":"Standard error payload returned by the WBJE API.","properties":{"timestamp":{"type":"string","format":"date-time","description":"Timestamp at which the error was created.","example":"2025-01-10T14:32:11.123"},"status":{"type":"integer","format":"int32","description":"HTTP status code that was returned.","example":404},"error":{"type":"string","description":"Short reason phrase that corresponds to the HTTP status.","example":"Not Found"},"message":{"type":"string","description":"Human-readable description of the error.","example":"Job not found for id: 42"},"path":{"type":"string","description":"Request path where the error occurred.","example":"/jobs/42"},"fieldErrors":{"type":"object","additionalProperties":{"type":"string"},"description":"Optional map containing field-level validation errors keyed by field name.","example":{"jobNumber":"must not be blank"}}}},"ReportSpecRequestDTO":{"type":"object","properties":{"reportName":{"type":"string","maxLength":255,"minLength":0},"reportType":{"type":"string","maxLength":255,"minLength":0},"thickness":{"type":"integer","format":"int32"},"info":{"type":"string","maxLength":255,"minLength":0}},"required":["reportName"]},"ReportSpecResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"reportName":{"type":"string"},"reportType":{"type":"string"},"thickness":{"type":"integer","format":"int32"},"info":{"type":"string"}}},"CylinderRequestDTO":{"type":"object","description":"Request payload for creating or updating a cylinder within a job.","properties":{"cylinderNr":{"type":"integer","format":"int32","description":"Cylinder sequence number within the job. Must be unique per job.","example":1},"color":{"type":"string","description":"Cylinder color label.","example":"Cyan"},"cylinderInfo":{"type":"string","description":"Optional cylinder-specific information.","example":"Mounting side: left"},"tapeSpecId":{"type":"integer","format":"int64","description":"Identifier of the TapeSpec used by this cylinder.","example":10}}},"CylinderResponseDTO":{"type":"object","description":"Response model representing a cylinder within a job.","properties":{"id":{"type":"integer","format":"int64","description":"Database identifier of the cylinder.","example":1},"cylinderNr":{"type":"integer","format":"int32","description":"Cylinder sequence number within the job.","example":1},"color":{"type":"string","description":"Cylinder color label.","example":"Magenta"},"cylinderInfo":{"type":"string","description":"Cylinder-specific info field.","example":"Mounting side: left"},"jobId":{"type":"integer","format":"int64","description":"Identifier of the parent job.","example":100},"tapeSpecId":{"type":"integer","format":"int64","description":"Identifier of the TapeSpec used by this cylinder.","example":10}}},"JobRequestDTO":{"type":"object","description":"Request payload used to create or update a job.","properties":{"jobNumber":{"type":"string","description":"External job number used in planning or ERP.","example":"JOB-2025-001","maxLength":40,"minLength":0},"jobDate":{"type":"string","format":"date-time","description":"Scheduled date and time of the job.","example":"2025-01-15T08:30:00"},"jobName":{"type":"string","description":"Short descriptive name of the job.","example":"Print job for customer X – 4 colors","maxLength":255,"minLength":0},"cylinderWidth":{"type":"integer","format":"int32","description":"Effective cylinder width in millimetres.","example":850},"cylinderCircumference":{"type":"integer","format":"int32","description":"Effective cylinder circumference in millimetres.","example":1100},"info":{"type":"string","description":"Optional internal note or technical information for this job.","example":"Use stickyback type A, check register on station 3.","maxLength":255,"minLength":0},"noteInfo":{"type":"string","description":"Optional operator note attached to the job.","example":"Repeat run, verify plate wear on station 2."}},"required":["jobDate"]},"JobResponseDTO":{"type":"object","description":"Response payload representing a job that is stored in the system.","properties":{"id":{"type":"integer","format":"int64","description":"Database identifier of the job.","example":42},"jobNumber":{"type":"string","description":"External job number used in planning or ERP.","example":"JOB-2025-001"},"jobDate":{"type":"string","format":"date-time","description":"Scheduled date and time of the job.","example":"2025-01-15T08:30:00"},"jobName":{"type":"string","description":"Short descriptive name of the job.","example":"Print job for customer X – 4 colors"},"cylinderWidth":{"type":"integer","format":"int32","description":"Effective cylinder width in millimetres.","example":850},"cylinderCircumference":{"type":"integer","format":"int32","description":"Effective cylinder circumference in millimetres.","example":1100},"info":{"type":"string","description":"Optional internal note or technical information for this job.","example":"Use stickyback type A, check register on station 3."},"noteInfo":{"type":"string","description":"Optional operator note attached to the job.","example":"Repeat run, verify plate wear on station 2."}}},"JobTemplateResponseDTO":{"type":"object","description":"Metadata response representation of a stored job template.","properties":{"id":{"type":"integer","format":"int64","description":"Database identifier of the job template.","example":1},"templateName":{"type":"string","description":"Human-readable template name.","example":"Standard 4-color layout"},"originalFileName":{"type":"string","description":"Original filename as uploaded.","example":"wbje-template.json"},"contentType":{"type":"string","description":"MIME type of the stored template file.","example":"application/json"},"fileSize":{"type":"integer","format":"int64","description":"File size in bytes.","example":2048},"uploadedAt":{"type":"string","format":"date-time","description":"Timestamp of upload."}}}},"securitySchemes":{"keycloak":{"type":"oauth2","description":"Keycloak OAuth2 login for WBJE.<br><br><b>client_id:</b> WBJEBackend<br><b>client_secret:</b> O5or54CsqQV9pYZYPLHVL4uvYjV4dDWb<br><br>Copy/paste these values into the fields above in case Swagger cannot auto-fill them.","flows":{"authorizationCode":{"authorizationUrl":"http://localhost:9090/realms/WBJE/protocol/openid-connect/auth","tokenUrl":"http://localhost:9090/realms/WBJE/protocol/openid-connect/token","scopes":{"openid":"OpenID Connect scope","service":"Full administrative access (maps to ROLE_ADMIN)","operator":"Standard operational access (maps to ROLE_USER)"}}}},"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"x-swagger-ui-init-oauth":{"clientId":"WBJEBackend","clientSecret":"O5or54CsqQV9pYZYPLHVL4uvYjV4dDWb","usePkceWithAuthorizationCodeGrant":true}}